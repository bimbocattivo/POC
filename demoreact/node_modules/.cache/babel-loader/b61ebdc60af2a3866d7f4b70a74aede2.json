{"ast":null,"code":"var _jsxFileName = \"/Users/dude/Documents/workspace/POC/demoreact/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport logo from \"./logo.svg\";\nimport React, { useState, useEffect } from \"react\";\nimport * as druid from '@saehrimnir/druidjs';\nimport MyCSVReader from './components/CsvReader.js';\nimport DimensionsList from './components/DimList.js';\nimport DimensionsListRedux from './components/DimList2.js';\nimport ScatterPlotDiv from './components/ScatterPlotDiv';\nimport ScatterPlotMatrixDiv from './components/ScatterPlotMatrixDiv';\n/*-----------FUNZIONI UTILI---------------\n\n--Filtra un array per un valore e restituisce un array con tutti i valori che preferisco--\nconst checkedDims = dims.filter(dim => dim.isChecked).map((d) => d.value);\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [dbData, setDbData] = useState();\n  const [data, setData] = useState([]); //array di oggetti {dim1: numeric, dim2: \"string\"}\n\n  const [dims, setDims] = useState([]); //array di oggetti  {value: \"string\", isChecked: bool, isNumeric: bool, isRedux: bool}\n\n  const [uData, setUData] = useState([]); //array di oggetti {dim1: numeric, dim2: \"string\"} con solo le dim selezionate\n\n  const [nCNRDims, setNCNRDims] = useState(0); //numero di dimensioni selezionate e non ridotte\n\n  const [drAlgo, setDrAlgo] = useState(\"FASTMAP\");\n  const [neighbors, setNeighbors] = useState(30);\n  const [test, setTest] = useState(false);\n  const [test2, setTest2] = useState(false);\n  useEffect(() => {\n    setTest(false);\n    setTest2(false);\n  }, [dims]);\n  useEffect(() => {\n    syncDimsData();\n  }, [nCNRDims]);\n\n  function handleDataLoad(newData, newColumns) {\n    setTest(false);\n    setTest2(false); //se viene richiamato il metodo quando si elimina il file\n\n    if (newData == null) {\n      setDims([]);\n      setData([]);\n      setUData([]);\n      return;\n    }\n\n    setData(newData);\n    setDims(newColumns);\n    setNCNRDims(newColumns.filter(d => d.isChecked && !d.isRedux).length);\n  }\n\n  function haveNanValue(d) {\n    const numeric_checkedDims = dims.filter(dim => dim.isChecked && dim.isNumeric && !dim.isRedux).map(d => d.value);\n    let not_nan = true;\n    numeric_checkedDims.forEach(dim => {\n      if (isNaN(d[dim])) {\n        not_nan = false;\n        return;\n      }\n    });\n    return not_nan;\n  }\n\n  function syncDimsData() {\n    const checkedDims = dims.filter(dim => dim.isChecked && !dim.isRedux).map(d => d.value); //array con i nomi delle dimensioni checked\n\n    let aux = data.map(d => {\n      //con filter tolgo i dati che hanno alcune dimensioni numeriche selezionate NaN; e con map prendo le dimensioni selezionate\n      return Object.fromEntries(checkedDims.map(dim => [dim, d[dim]]));\n    }).filter(haveNanValue);\n    setUData(aux);\n    const removedReduxDims = dims.filter(dim => !dim.isRedux);\n    setDims(removedReduxDims);\n  }\n\n  function handleChangeDims(newDims) {\n    setDims(newDims);\n    setNCNRDims(newDims.filter(d => d.isChecked && !d.isRedux).length);\n  }\n\n  function showGraph() {\n    setTest(true);\n    setTest2(false);\n  }\n\n  function showGraph2() {\n    setTest2(true);\n    setTest(false);\n  }\n\n  function reduxDims() {\n    //Array con dimensioni numeriche e selezionate\n    const numericDims = dims.filter(dim => dim.isNumeric && dim.isChecked && dim.toRedux).map(d => d.value); //const catDims = dims.filter(dim => !dim.isNumeric && dim.isChecked).map((d) => d.value);\n    //Dati con dimensioni numeriche e selezionate\n\n    const sendedData = uData.map(obj => {\n      return Array.from(numericDims.map(dim => obj[dim]));\n    }); //Dati con dimensioni categoriche e selezionate\n\n    /*const label = uData.map(obj =>{\n      return Array.from(catDims.map((dim) => obj[dim]))\n    });*/\n    //Matrix.from vuole un Array di array, senza quindi le chiavi delle dimensioni\n    //Sendend data Ã© un array del tipo [[1,2,3], [2,3,4], [5,6,7]]\n    //label.map(d => d[0])\n\n    function dr() {\n      const X = druid.Matrix.from(sendedData); // X un oggetto con campo column, row e data, con data array di valori [1,2,3,4,5,6,7,..]\n\n      const DR = druid[drAlgo]; // DR is the selected DR class\n      //const P = get_parameters(parameterization); // P is a array containing the parameters for DR.\n\n      switch (drAlgo) {\n        case \"FASTMAP\":\n        case \"TSNE\":\n          return new DR(X);\n\n        default:\n          return new DR(X, neighbors);\n      }\n    }\n\n    let redux = dr();\n    const Y = redux.transform(); //IMPORTANTISSIMO ASSEGNARLO AD UN CONST\n    //Aggiorno l'array delle dimensioni con le dimensioni ridotte\n    //Prendo tutte le dimensioni non ridotte\n\n    /*let tempdims = ([...dims]).filter(d => !d.isRedux);\n    //Prendo i dati non ridotti\n    let tempdata = uData.map((d) =>{\n      return Object.fromEntries(tempdims.map((dim => [dim.value, d[dim.value]])))\n    });*/\n    //aggiungo le nuove dimensioni ridotte\n\n    let reduxDims = []; //Nuove dimensioni ridotte\n\n    for (let i = 1; i <= Y._cols; i++) {\n      reduxDims.push({\n        \"value\": drAlgo + i,\n        \"isChecked\": true,\n        \"toRedux\": true,\n        \"isNumeric\": true,\n        \"isRedux\": true\n      });\n    } //prendo le nuove dimensioni ridotte\n    //const reduxDims = tempdims.filter(d => d.isRedux).map(d => d.value);\n\n\n    let tempdims = [...dims].filter(d => !d.value.includes(drAlgo));\n    console.log(tempdims);\n    let tempdata = uData.map(d => {\n      return Object.fromEntries(tempdims.map(dim => [dim.value, d[dim.value]]));\n    });\n    tempdims = tempdims.concat(reduxDims);\n    console.log(tempdims); //aggiungo ad ogni dato i nuovi valori delle nuove dimensioni\n\n    for (let i = 0; i < tempdata.length; i++) {\n      let data = tempdata[i];\n      let j = 0;\n      reduxDims.forEach(dim => {\n        data[dim.value] = Y.to2dArray[i][j];\n        j++;\n      });\n    } //aggiorno udata e dims con le nuove dimensioni e dati\n\n\n    setUData(tempdata);\n    setDims(tempdims);\n    alert(\"Riduzione effettuata con successo\");\n  } //Get data from db \n\n\n  const handleData = () => {\n    props.newData(data);\n  };\n\n  function renderParams() {\n    switch (drAlgo) {\n      case \"FASTMAP\":\n      case \"TSNE\":\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Nessun parametro configurabile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 16\n        }, this);\n\n      case \"ISOMAP\":\n        return /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"k\",\n            type: \"range\",\n            min: 10,\n            max: 300,\n            value: neighbors,\n            onChange: e => setNeighbors(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 23\n          }, this), \" neighbors \", /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 148\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: neighbors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 156\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 16\n        }, this);\n\n      case \"LLE\":\n        return /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"k\",\n            type: \"range\",\n            min: 10,\n            max: 300,\n            value: neighbors,\n            onChange: e => setNeighbors(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 23\n          }, this), \" neighbors \", /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"k\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 148\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: neighbors\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 156\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 16\n        }, this);\n\n      default:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Nulla configurabile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 16\n        }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"App-title\",\n        children: \"PoC HDviz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-inline-flex m-3 justify-content-around w-75\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(MyCSVReader, {\n            onChange: handleDataLoad\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary m-2\",\n            onClick: () => {\n              console.log(\"Carica dati dal db\");\n            },\n            children: \"Carica dati dal db\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary m-2\",\n            onClick: () => {\n              console.log(\"Import Configurazione\");\n            },\n            children: \"Import Configurazione\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary m-2\",\n            onClick: () => {\n              console.log(\"Export Configurazione\");\n            },\n            children: \"Export Configurazione\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-inline-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary m-2\",\n          onClick: () => {\n            console.log(data);\n          },\n          children: \"Log Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary m-2\",\n          onClick: () => {\n            console.log(dims);\n          },\n          children: \"Log Dimension\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary m-2\",\n          onClick: () => {\n            console.log(uData);\n          },\n          children: \"Log Used Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-75 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Selenziona le dimensioni che desideri utilizzare\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DimensionsList, {\n          dims: dims,\n          updateDims: handleChangeDims\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Riduzione dimensionale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-75 mx-auto d-inline-flex\",\n        children: [/*#__PURE__*/_jsxDEV(DimensionsListRedux, {\n          dims: dims,\n          updateDims: handleChangeDims\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"algRedux\",\n          value: drAlgo,\n          className: \"form-select\",\n          onChange: e => setDrAlgo(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"FASTMAP\",\n            children: \"FASTMAP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"LLE\",\n            children: \"LLE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"ISOMAP\",\n            children: \"ISOMAP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"TSNE\",\n            children: \"TSNE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), renderParams(), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary m-2\",\n          onClick: reduxDims,\n          children: \"Redux Dims\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-inline-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary m-2\",\n          onClick: showGraph,\n          children: \"Scatter Plot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary m-2\",\n          onClick: showGraph2,\n          children: \"Scatter Plot Matrix\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), test ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-75 mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(ScatterPlotDiv, {\n          data: uData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 14\n      }, this) : null, test2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-75 mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(ScatterPlotMatrixDiv, {\n          data: uData,\n          dims: dims\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 14\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"vKzTpbLe85XdT7Cut4nqxjtPN4o=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/dude/Documents/workspace/POC/demoreact/src/App.js"],"names":["React","useState","useEffect","druid","MyCSVReader","DimensionsList","DimensionsListRedux","ScatterPlotDiv","ScatterPlotMatrixDiv","App","dbData","setDbData","data","setData","dims","setDims","uData","setUData","nCNRDims","setNCNRDims","drAlgo","setDrAlgo","neighbors","setNeighbors","test","setTest","test2","setTest2","syncDimsData","handleDataLoad","newData","newColumns","filter","d","isChecked","isRedux","length","haveNanValue","numeric_checkedDims","dim","isNumeric","map","value","not_nan","forEach","isNaN","checkedDims","aux","Object","fromEntries","removedReduxDims","handleChangeDims","newDims","showGraph","showGraph2","reduxDims","numericDims","toRedux","sendedData","obj","Array","from","dr","X","Matrix","DR","redux","Y","transform","i","_cols","push","tempdims","includes","console","log","tempdata","concat","j","to2dArray","alert","handleData","props","renderParams","e","target","logo"],"mappings":"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","sourcesContent":["import './App.css';\nimport logo from './logo.svg';\nimport React, {useState, useEffect} from \"react\";\nimport * as druid from '@saehrimnir/druidjs';\nimport MyCSVReader from './components/CsvReader.js';\nimport DimensionsList from './components/DimList.js';\nimport DimensionsListRedux from './components/DimList2.js';\nimport ScatterPlotDiv from './components/ScatterPlotDiv';\nimport ScatterPlotMatrixDiv from './components/ScatterPlotMatrixDiv';\n\n/*-----------FUNZIONI UTILI---------------\n\n--Filtra un array per un valore e restituisce un array con tutti i valori che preferisco--\nconst checkedDims = dims.filter(dim => dim.isChecked).map((d) => d.value);\n*/\n\nfunction App() {\n  const [dbData,setDbData] =useState();\n  const [data, setData] = useState([]); //array di oggetti {dim1: numeric, dim2: \"string\"}\n  const [dims, setDims] = useState([]); //array di oggetti  {value: \"string\", isChecked: bool, isNumeric: bool, isRedux: bool}\n  const [uData, setUData] = useState([]); //array di oggetti {dim1: numeric, dim2: \"string\"} con solo le dim selezionate\n  const [nCNRDims, setNCNRDims] = useState(0);  //numero di dimensioni selezionate e non ridotte\n  const [drAlgo, setDrAlgo] = useState(\"FASTMAP\");\n  const [neighbors, setNeighbors] = useState(30);\n  const [test, setTest] = useState(false);\n  const [test2, setTest2] = useState(false);\n  useEffect(() => {\n    setTest(false);\n    setTest2(false);\n  }, [dims]);\n\n  useEffect(() => {\n    syncDimsData();\n  }, [nCNRDims])\n\n  function handleDataLoad(newData, newColumns){\n    setTest(false);\n    setTest2(false);\n    //se viene richiamato il metodo quando si elimina il file\n    if(newData == null){\n      setDims([]);\n      setData([]);\n      setUData([]);\n      return;\n    }\n    setData(newData);\n    setDims(newColumns);\n    setNCNRDims(newColumns.filter(d => d.isChecked && !d.isRedux).length);\n  }\n  function haveNanValue(d){\n    const numeric_checkedDims = dims.filter(dim => dim.isChecked && dim.isNumeric && !dim.isRedux).map((d) => d.value);\n    let not_nan = true;\n    numeric_checkedDims.forEach(dim => {\n      if(isNaN(d[dim])){\n        not_nan = false;\n        return;\n      }\n    }); \n    return not_nan;\n  }\n  function syncDimsData(){\n    const checkedDims = dims.filter(dim => dim.isChecked && !dim.isRedux).map((d) => d.value);  //array con i nomi delle dimensioni checked\n    let aux = data.map(d => {    //con filter tolgo i dati che hanno alcune dimensioni numeriche selezionate NaN; e con map prendo le dimensioni selezionate\n        return Object.fromEntries(checkedDims.map(dim => [dim, d[dim]]))\n     }).filter(haveNanValue);\n    setUData(aux);\n    const removedReduxDims = dims.filter(dim => !dim.isRedux);\n    setDims(removedReduxDims);\n  }\n  function handleChangeDims(newDims){\n    setDims(newDims);\n    setNCNRDims(newDims.filter(d => d.isChecked && !d.isRedux).length);\n  }\n  function showGraph(){\n    setTest(true);\n    setTest2(false);\n  }\n  function showGraph2(){\n    setTest2(true);\n    setTest(false);\n  }\n  function reduxDims(){\n    //Array con dimensioni numeriche e selezionate\n    const numericDims = dims.filter(dim => dim.isNumeric && dim.isChecked && dim.toRedux).map((d) => d.value);\n    //const catDims = dims.filter(dim => !dim.isNumeric && dim.isChecked).map((d) => d.value);\n    //Dati con dimensioni numeriche e selezionate\n    const sendedData = uData.map(obj => {\n      return Array.from(numericDims.map((dim) => obj[dim]))\n    });\n    //Dati con dimensioni categoriche e selezionate\n    /*const label = uData.map(obj =>{\n      return Array.from(catDims.map((dim) => obj[dim]))\n    });*/\n    //Matrix.from vuole un Array di array, senza quindi le chiavi delle dimensioni\n    //Sendend data Ã© un array del tipo [[1,2,3], [2,3,4], [5,6,7]]\n    //label.map(d => d[0])\n    function dr(){\n      const X = druid.Matrix.from(sendedData); // X un oggetto con campo column, row e data, con data array di valori [1,2,3,4,5,6,7,..]\n      const DR = druid[drAlgo]; // DR is the selected DR class\n      //const P = get_parameters(parameterization); // P is a array containing the parameters for DR.\n      switch(drAlgo){\n        case \"FASTMAP\":\n        case \"TSNE\":\n          return new DR(X);\n        default:\n          return new DR(X, neighbors);\n      }\n    }\n    let redux = dr();\n    const Y = redux.transform()  //IMPORTANTISSIMO ASSEGNARLO AD UN CONST\n    //Aggiorno l'array delle dimensioni con le dimensioni ridotte\n    \n    //Prendo tutte le dimensioni non ridotte\n    /*let tempdims = ([...dims]).filter(d => !d.isRedux);\n    //Prendo i dati non ridotti\n    let tempdata = uData.map((d) =>{\n      return Object.fromEntries(tempdims.map((dim => [dim.value, d[dim.value]])))\n    });*/\n    //aggiungo le nuove dimensioni ridotte\n    \n    let reduxDims = [];//Nuove dimensioni ridotte\n    for (let i = 1; i <= Y._cols; i++) {\n      reduxDims.push({\"value\": (drAlgo+i), \"isChecked\": true, \"toRedux\": true,\"isNumeric\": true, \"isRedux\" : true});\n    }\n    //prendo le nuove dimensioni ridotte\n    //const reduxDims = tempdims.filter(d => d.isRedux).map(d => d.value);\n    let tempdims=[...dims].filter(d => !d.value.includes(drAlgo));\n    console.log(tempdims);\n    let tempdata = uData.map((d) =>{\n      return Object.fromEntries(tempdims.map((dim => [dim.value, d[dim.value]])))\n    });\n    tempdims = tempdims.concat(reduxDims);\n    console.log(tempdims);\n    //aggiungo ad ogni dato i nuovi valori delle nuove dimensioni\n    for(let i = 0; i<tempdata.length; i++){\n      let data = tempdata[i];\n      let j=0;\n      reduxDims.forEach(dim => {\n        data[dim.value] = Y.to2dArray[i][j]\n        j++\n      });\n    }\n    //aggiorno udata e dims con le nuove dimensioni e dati\n    setUData(tempdata);\n    setDims(tempdims);\n    alert(\"Riduzione effettuata con successo\")\n\n\n  }\n\n  //Get data from db \n  const handleData=()=>{\n    props.newData(data);\n}\n  function renderParams(){\n    switch (drAlgo) {\n      case \"FASTMAP\":\n      case \"TSNE\":\n        return <span>Nessun parametro configurabile</span>;\n      case \"ISOMAP\":\n        return <label><input name=\"k\" type=\"range\" min={10} max={300} value={neighbors} onChange={(e) => setNeighbors(e.target.value)}/> neighbors <i>k</i><p>{neighbors}</p></label>;\n      case \"LLE\":\n        return <label><input name=\"k\" type=\"range\" min={10} max={300} value={neighbors} onChange={(e) => setNeighbors(e.target.value)}/> neighbors <i>k</i><p>{neighbors}</p></label>;\n      default:\n        return <span>Nulla configurabile</span>;\n    }\n  }\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\"/>\n        <h1 className=\"App-title\" >PoC HDviz</h1>\n      </header>\n      <div>\n        <div className=\"d-inline-flex m-3 justify-content-around w-75\">\n          <div>\n            <MyCSVReader onChange={handleDataLoad}></MyCSVReader>\n          </div>\n          <div>\n            <button className=\"btn btn-primary m-2\" onClick={() =>{console.log(\"Carica dati dal db\")}}>Carica dati dal db</button>\n          </div>\n          <div className=\"d-flex flex-column\">\n            <button className=\"btn btn-primary m-2\" onClick={() =>{console.log(\"Import Configurazione\")}}>Import Configurazione</button>\n            <button className=\"btn btn-primary m-2\" onClick={() =>{console.log(\"Export Configurazione\")}}>Export Configurazione</button>\n          </div>\n        </div>\n        <hr/>\n        <div className=\"d-inline-flex\">\n          <button className=\"btn btn-primary m-2\" onClick={() =>{console.log(data)}}>Log Data</button>\n          <button className=\"btn btn-primary m-2\" onClick={() =>{console.log(dims)}}>Log Dimension</button>\n          <button className=\"btn btn-primary m-2\" onClick={() =>{console.log(uData)}}>Log Used Data</button>\n        </div>\n        <hr/>\n        <div className=\"w-75 mx-auto\">\n          <h4>Selenziona le dimensioni che desideri utilizzare</h4>\n          <DimensionsList dims={dims} updateDims={handleChangeDims}/>\n        </div>\n        <hr/>\n        <h2>Riduzione dimensionale</h2>\n        <div className=\"w-75 mx-auto d-inline-flex\">\n          <DimensionsListRedux dims={dims} updateDims={handleChangeDims}/>\n          <select id=\"algRedux\" value={drAlgo} className=\"form-select\" onChange={(e) => setDrAlgo(e.target.value)}>\n            <option value={\"FASTMAP\"}>FASTMAP</option>\n            <option value={\"LLE\"}>LLE</option>\n            <option value={\"ISOMAP\"}>ISOMAP</option>\n            <option value={\"TSNE\"}>TSNE</option>\n          </select>\n          {\n            renderParams()\n          }\n          <button className=\"btn btn-primary m-2\" onClick={reduxDims}>Redux Dims</button>\n        </div>\n        <hr/>\n        <div className=\"d-inline-flex\">\n          <button className=\"btn btn-primary m-2\" onClick={showGraph}>Scatter Plot</button>\n          <button className=\"btn btn-primary m-2\" onClick={showGraph2}>Scatter Plot Matrix</button>\n        </div>\n        {test ?\n            (<div className=\"w-75 mx-auto\"><ScatterPlotDiv data={uData}/></div>) : (null)\n          }\n          {test2 ?\n            (<div className=\"w-75 mx-auto\"><ScatterPlotMatrixDiv data={uData} dims={dims}/></div>) : (null)\n          }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}